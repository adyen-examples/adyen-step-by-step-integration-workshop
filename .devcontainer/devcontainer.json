{
	"name": "Java",
	
	"image": "mcr.microsoft.com/devcontainers/java:1-17-bullseye",

	"features": {
		"ghcr.io/devcontainers/features/java:1": {
			"version": "none",
			"installMaven": "false",
			"installGradle": "true"
		}
	},

	"postCreateCommand": "ngrok config add-authtoken 36K00B3h52tPWqoNDgjE6Zx1TUG_3U4K4rFL6TwDUNfc2urC3 && ngrok http 8080 &",

	// Use 'forwardPorts' to make a list of ports inside the container available locally
	"forwardPorts": [ 8080 ],

    // Set forwarded port 8080 to public
    "portsAttributes": {
      "8080": {
        "label": "Make 8080 public",
        "onAutoForward": "notify",
        "visibility": "public"
      }
    },

	// Build
    "postStartCommand": "gradle wrapper && ./gradlew build"
}
